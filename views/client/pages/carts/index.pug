extends ../../layouts/layouts.pug

block css
     link(rel="stylesheet" href="/client/css/home/index.css")
block script
     script(src="https://cdn.jsdelivr.net/npm/sweetalert2@11")
     script(src="https://cdn.jsdelivr.net/npm/axios@1.7.9/dist/axios.min.js") 
     script(type="module" src="/client/js/carts/index.js") 

block main
     div(class="bg-gray-50")
          div(class="max-w-7xl mx-auto px-4 py-8")
               div(class="flex items-center gap-2 text-sm mb-8")
                    span(class="text-gray-600") Trang chủ
                    span(class="text-gray-400") &amp;gt;
                    span Giỏ hàng
               h1(class="text-xl font-medium mb-8") Giỏ hàng của bạn
               div(class="flex gap-8")
                    div(class="flex-1 space-y-4")
                         // Cart Item 1
                         - if(carts && carts.length > 0)
                              each it in carts
                                   div(class="flex items-center justify-between bg-white rounded-lg p-6 relative")
                                        button(class="absolute top-6 right-6 text-red-500" btn-trash = it.id link = `${ROUTERS.CLIENT.CART.PATH}${ROUTERS.CLIENT.CART.INDEX}/${INFOR_CUSTOMER.username}${ROUTERS.CLIENT.CART.DELETE}/${it.id}`)
                                             i(class="fa-solid fa-trash")
                                        div(class="flex gap-4")
                                             img(src="images/gradiant-graphic-t-shirt.png" alt="Gradiant Graphic T-shirt" class="w-24 h-24 object-cover rounded-lg")
                                             div(class=`flex flex-col gap-y-[10px]`)
                                                  h3(class="text-lg") #{it.product_name}
                                                  p(class="text-gray-500 text-sm") Kích thước: #{it.product_size}
                                                  p(class="text-gray-500 text-sm") Màu: #{it.product_color}
                                                  div(class=`flex gap-x-[10px] items-center`) 
                                                       div(class="flex items-center gap-4")
                                                            button(class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center" btn-decrease = it.id link = `${ROUTERS.CLIENT.CART.PATH}${ROUTERS.CLIENT.CART.INDEX}/${INFOR_CUSTOMER.username}${ROUTERS.CLIENT.CART.DECREASE}`) -
                                                            span #{it.quantity}
                                                            button(class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center" btn-add-quantity = it.id link = `${ROUTERS.CLIENT.CART.PATH}${ROUTERS.CLIENT.CART.INDEX}/${INFOR_CUSTOMER.username}${ROUTERS.CLIENT.CART.ADD_QUANTITY}`) +
                                                       div x
                                                       sl-format-number(class="text-lg" type="currency" currency="VND" value=it.price lang="vi")
                                        sl-format-number(class="text-lg" type="currency" currency="VND" value=it.priceNew lang="vi")
                         // Cart Item 2
                         //- div(class="flex items-center justify-between bg-white rounded-lg p-6 relative")
                         //-      button(class="absolute top-6 right-6 text-red-500")
                         //-           i(class="fa-solid fa-trash")
                         //-      div(class="flex gap-4")
                         //-           img(src="images/gradiant-graphic-t-shirt.png" alt="Gradiant Graphic T-shirt" class="w-24 h-24 object-cover rounded-lg")
                         //-           div
                         //-                h3(class="text-lg mb-1") Gradient Graphic T-shirt
                         //-                p(class="text-gray-500 text-sm mb-1") Kích thước: L
                         //-                p(class="text-gray-500 text-sm mb-1") Màu: Trắng
                         //-                div(class="flex items-center gap-4 mt-2")
                         //-                     button(class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center") -
                         //-                     span 1
                         //-                     button(class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center") +
                         //-      div(class="text-lg") 145.000đ
                         //- // Cart Item 2
                         //- div(class="flex items-center justify-between bg-white rounded-lg p-6 relative")
                         //-      button(class="absolute top-6 right-6 text-red-500")
                         //-           i(class="fa-solid fa-trash")
                         //-      div(class="flex gap-4")
                         //-           img(src="images/checkered-shirt.png" alt="Checkered ShirtShirt" class="w-24 h-24 object-cover rounded-lg")
                         //-           div
                         //-                h3(class="text-lg mb-1") Checkered Shirt
                         //-                p(class="text-gray-500 text-sm mb-1") Kích thước: M
                         //-                p(class="text-gray-500 text-sm mb-1") Màu: Đỏ
                         //-                div(class="flex items-center gap-4 mt-2")
                         //-                     button(class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center") -
                         //-                     span 1
                         //-                     button(class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center") +
                         //-      div(class="text-lg") 180.000đ
                         //- // Cart Item 3
                         //- div(class="flex items-center justify-between bg-white rounded-lg p-6 relative")
                         //-      button(class="absolute top-6 right-6 text-red-500")
                         //-           i(class="fa-solid fa-trash")
                         //-      div(class="flex gap-4")
                         //-           img(src="images/skinny-fit-jeans.png" alt="Skinny Fit JeansJeans" class="w-24 h-24 object-cover rounded-lg")
                         //-           div
                         //-                h3(class="text-lg mb-1") Skinny Fit Jeans
                         //-                p(class="text-gray-500 text-sm mb-1") Kích thước: L
                         //-                p(class="text-gray-500 text-sm mb-1") Màu: Xanh
                         //-                div(class="flex items-center gap-4 mt-2")
                         //-                     button(class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center") -
                         //-                     span 1
                         //-                     button(class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center") +
                         //-      div(class="text-lg") 240.000đ
                    div(class="w-[400px] bg-white rounded-lg p-6")
                         h2(class="text-lg font-medium mb-6") Tóm tắt đơn hàng
                         div(class="space-y-4 mb-6")
                              div(class="flex justify-between")
                                   span Tổng cộng
                                   sl-format-number(class="text-lg" type="currency" currency="VND" value=carts.totalPrice lang="vi")
                              //- div(class="flex justify-between text-red-500")
                                   span Giảm giá (-20%)
                                   span -113.000đ
                              div(class="flex justify-between")
                                   span Phí giao hàng
                                   - if(carts.totalPrice >= 500000)
                                        span Miễn Phí
                                   - else
                                        sl-format-number(class="text-lg" type="currency" currency="VND" value='20000' lang="vi")

                              div(class="flex justify-between text-lg font-medium pt-4 border-t")
                                   span Thành tiền
                                   - if(carts.totalPrice >= 500000)
                                        sl-format-number(class="text-lg" type="currency" currency="VND" value=carts.totalPrice lang="vi")
                                   - else
                                        sl-format-number(class="text-lg" type="currency" currency="VND" value=carts.totalPrice + 20000 lang="vi")
                         div(class="flex gap-2 bg-gray-50 rounded-lg p-2 mb-4")
                              input(type="text" placeholder="Thêm mã khuyến mại" class="bg-transparent w-full outline-none px-2")
                              button(class="bg-black text-white px-4 py-2 rounded-lg") Áp dụng
                         button(class="w-full bg-black text-white py-3 rounded-lg") Thanh toán
